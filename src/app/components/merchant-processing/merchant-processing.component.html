<form [formGroup]="merchantProcessingProfileForm" (onSubmit)="submitMerchProc($event)">
  <div class="row">
    <div class="col-5 no-pad right-pad-15">
      <label for="sourcetypesb2c" class="row">% Business to Consumer (B2C)</label>
      <div class="row">
        <kendo-numerictextbox [min]="0" [max]="100" tabindex="0" title="B2C" formControlName="b2c" [step]="step"
          (valueChange)="onValueChange($event, 'b2c')" [autoCorrect]="autoCorrect">
        </kendo-numerictextbox>
      </div>
    </div>
    <div class="col-5 no-pad">
      <label class="sourcetypesb2b" class="row">% Business to Business (B2B)</label>
      <div class="row">
        <kendo-numerictextbox [min]="0" [max]="100" tabindex="0" title="B2B" formControlName="b2b" [step]="step"
          (valueChange)="onValueChange($event, 'b2b')" [autoCorrect]="autoCorrect">
        </kendo-numerictextbox>
      </div>

    </div>
  </div>

  <div class="row form-row">
    <div class="row">
      <label for="mcc_tax_id" class="row form-row">Merchant Category Code (MCC) </label>
      <kendo-autocomplete #mccSrc formControlName="mccCodeContent" [data]="mccSrcList"
        [placeholder]="'Please enter MCC Code'" class="input-txt-90w" [filterable]="true"
        (valueChange)="mccValueChange($event)" (filterChange)="mccFinderInput($event)"
        (keydown)="mccSrcKeydown($event)">
      </kendo-autocomplete>
      <span class="ico-mcc-merchant"><img #src src="assets/img/binoculars.png" title="Search MCC Code"
          (click)="openMcciBox(src)"></span>
    </div>
    <kendo-dialog title='' [width]="'100%'" [height]="84" *ngIf="closeMCCfinder" [minWidth]="150" [minHeight]="50"
      [width]="150" class="message-dialog-container">
      <div class="message-dialog">
        <span class="k-icon k-i-info" ng-reflect-klass="k-icon" ng-reflect-ng-class="k-i-info"></span>
        <p>Are you sure you want to close MCC Finder?</p>
        <button kendoButton (click)="closeDialogAction('ok')" class="btn-secondary">OK</button>
        <button kendoButton (click)="closeDialogAction('cancel')" class="btn-secondary">Cancel</button>
      </div>
    </kendo-dialog>
  </div>
  <hr class="hr-line">
  <div class="row">
    <div class="col-5 no-pad right-pad-15">
      <label for="averageTicket" class="row form-row">Average Ticket (in USD)</label>
      <div class="row">
        <kendo-numerictextbox [value]="value" [min]="0" [max]="100" [autoCorrect]="autoCorrect" class="numTxtBox"
          tabindex="0" id="averageTicket" tabindex="0" title="Average Ticket" formControlName="averageTicket">
        </kendo-numerictextbox>
      </div>
    </div>
  </div>
  <div class="row">
    <div class="col-5 no-pad right-pad-15">
      <label for="card_pres" class="row form-row">% Card Present (CP)</label>
      <div class="row">
        <kendo-numerictextbox [value]="value" [min]="0" [max]="100" [autoCorrect]="autoCorrect" id="card_pres"
          tabindex="0" title="Card Present" formControlName="cardPresent">
        </kendo-numerictextbox>
      </div>

    </div>
    <div class="col-5 no-pad">
      <label for="card_not_pres" class="row form-row">% Card Not Present (CNP)</label>
      <div class="row">
        <kendo-numerictextbox [value]="value" [min]="0" [max]="100" [autoCorrect]="autoCorrect" id="card_no_pres"
          title="Card Not Present" tabindex="0" aria-required="true" formControlName="cardNotPresent">
        </kendo-numerictextbox>
      </div>
    </div>
  </div>
  <div role="group" aria-labelledby="aria-group-legend">
    <label class="row form-row bottom-pad-10">Do you process 100% of your transactions over the internet?</label>
    <div class="row-20">
      <input type="radio" name="transactionsVal" [value]="isTransactionsYes" formControlName="transactionsVal" id="t1"
        tabindex="0" kendoRadioButton /><label for="t1" class="lable-normal"> Yes </label>
    </div>
    <div class="row-20">
      <input type="radio" name="transactionsVal" [value]="!isTransactionsYes" formControlName="transactionsVal" id="t2"
        tabindex="0" kendoRadioButton /><label for="t2" class="lable-normal"> No </label>
    </div>
  </div>
  <div class="row">
    <div class="col-5 no-pad right-pad-15">
      <label for="proc_type" class="row form-row">Processing Type</label>
      <div class="row">
        <kendo-dropdownlist formControlName="processingType" [data]="processingTypes"
          [defaultItem]="{ text: 'Select Processing Type', value: null }" [textField]="'Name'"
          [valueField]="'ProcessingType'" [valuePrimitive]="true" (selectionChange)="processingTypeChanged($event)"
          (click)="fetchProcessingType()" aria-required="true" tabindex="0">
        </kendo-dropdownlist>
      </div>
    </div>
    <div class="col-5 no-pad">
      <label class="row form-row">Processing Option</label>
      <div class="row">
        <kendo-dropdownlist formControlName="processingOption" [data]="processingOptions"
          [defaultItem]="{ text: 'Select Processing Option', value: null }" [textField]="'text'" [valueField]="'value'"
          [valuePrimitive]="true" (selectionChange)="processingOptionChanged($event)" (click)="fetchProcessingOption()"
          aria-required="true" tabindex="0">
        </kendo-dropdownlist>
      </div>
    </div>
  </div>
  <div class="row form-row">
    <div role="group" aria-labelledby="aria-group-legend">
      <label class="row form-row bottom-pad-10">Communication Method</label>
      <div class="row bottom-pad-10">
        <input type="radio" name="dialMethod" [value]="communicationOption[0]"
          (change)="communicationMethodChanged('Dial')" formControlName="dialMethod" id="n1" tabindex="0"
          kendoRadioButton /><label for="n1" class="lable-normal"> Dial (A)</label>
      </div>
      <div class="row bottom-pad-10">
        <input type="radio" name="dialMethod" [value]="communicationOption[1]"
          (change)="communicationMethodChanged('Frame-Relay')" formControlName="dialMethod" id="n2" tabindex="0"
          kendoRadioButton /><label for="n2" class="lable-normal"> Frame Relay (C) </label>
      </div>
      <div class="row bottom-pad-10">
        <input type="radio" name="dialMethod" [value]="communicationOption[2]"
          (change)="communicationMethodChanged('Frame-Internet')" formControlName="dialMethod" id="n3" tabindex="0"
          kendoRadioButton /><label for="n3" class="lable-normal"> Frame/Internet (M)</label>
      </div>
      <div class="row bottom-pad-10">
        <input type="radio" name="dialMethod" [value]="communicationOption[3]"
          (change)="communicationMethodChanged('Datawire')" formControlName="dialMethod" id="n4" tabindex="0"
          kendoRadioButton /><label for="n4" class="lable-normal"> Datawire (IPN)</label>
      </div>
      <div class="row bottom-pad-10">
        <input type="radio" name="dialMethod" [value]="communicationOption[4]"
          (change)="communicationMethodChanged('Lease')" formControlName="dialMethod" id="n5" tabindex="0"
          kendoRadioButton /><label for="n5" class="lable-normal"> Lease (M)</label>
      </div>
    </div>
  </div>
  <hr class="hr-line">
  <div class="row">
    <table class="table-textbox-style">
      <tr>
        <td class="bottom-border" width="54%"><label class="td-label">Total Estimate Annual Volume</label></td>
        <td class="bottom-border input-col-2"> <input type="text" value="$ 0.00">
        </td>
        <td class="bottom-border"><a href="">Confirm</a></td>
      </tr>
      <tr>
        <td colspan="3" class="table-td-holder">
          <table width="100%">
            <tr>
              <td class="bottom-border" width="50%"><label class="td-label-icon">Annual Visa / Master Card</label></td>
              <td class="bottom-border input-col-2" width="40%"> <input type="text" value="$ 0.00"> </td>
              <td><a href="">Confirm</a></td>
            </tr>
            <tr>
              <td class="bottom-border"><label class="td-label-icon">Discover</label></td>
              <td class="bottom-border input-col-2">$0.00</td>
              <td><a href="">Confirm</a></td>
            </tr>
            <tr>
              <td class="bottom-border"><label class="td-label-icon">American Express</label></td>
              <td class="bottom-border input-col-2">$0.00</td>
              <td></td>
            </tr>
            <tr>
              <td><label class="td-label-icon">PIN Debit Volume</label></td>
              <td class="input-col-2"> <input type="text" value="$ 0.00"> </td>
              <td></td>
            </tr>
          </table>
        </td>
      </tr>
    </table>
  </div>
  <div class="row">
    <label for="loc" class="row form-row">
      <div id='loc'>Does merchant have more than one location?</div>
    </label>
    <div class="row-20">
      <input type="radio" name="location" [value]="isLocSelected" formControlName="location" id='rd1'
        (click)="numOfLocation(true)" kendoRadioButton /><label for="rd1"> Yes </label>
    </div>
    <div class="row-20">
      <input type="radio" name="location" [value]="!isLocSelected" formControlName="location" id='rd2'
        (click)="numOfLocation(false)" kendoRadioButton /><label for="rd2"> No </label>
    </div>
  </div>
  <div class="row" *ngIf="isLocSelected">
    <div class="col-3 no-pad">
      <label for="locations" class="row form-row">
        <div id='locations'>Number of Locations</div>
      </label>
      <div class="row">
        <kendo-numerictextbox type="number" [format]="'null'" [value]="value" [min]="0" [max]="100" tabindex="0"
          formControlName="numeric" [autoCorrect]="autoCorrect">
        </kendo-numerictextbox>
      </div>
    </div>
  </div><br />
</form>
<kendo-dialog title="Merchant Category Code (MCC) Finder" *ngIf="mcciDialogOpened" (close)="closeMcciBox()"
  [width]="820" [height]="634">
  <!-- Temporary sending hardcoded values for testing, later will bind with value from controller -->
  <app-mcc-finder #mccFinder [b2bOption]="b2bVal" [b2cOption]="b2cVal" (selectedMccRow)="popupSelectedMcc($event)">
  </app-mcc-finder>
</kendo-dialog>
<kendo-dialog title='' [width]="'100%'" [height]="84" *ngIf="closeMCCfinder" [minWidth]="150" [minHeight]="50"
  [width]="150" class="message-dialog-container">
  <div class="message-dialog">
    <span class="k-icon k-i-info" ng-reflect-klass="k-icon" ng-reflect-ng-class="k-i-info"></span>
    <p>Are you sure you want to close MCC Finder?</p>
    <button kendoButton (click)="closeDialogAction('ok')" class="btn-secondary">OK</button>
    <button kendoButton (click)="closeDialogAction('cancel')" class="btn-secondary">Cancel</button>
  </div>
</kendo-dialog>
<kendo-dialog title='' [width]="'100%'" [height]="84" *ngIf="isCommunicationError" [minWidth]="150" [minHeight]="50"
  [width]="150" class="message-dialog-container">
  <div class="message-dialog">
    <span class="k-icon k-i-info" ng-reflect-klass="k-icon" ng-reflect-ng-class="k-i-info"></span>
    <p>You cannot change selected communication type</p>
    <button kendoButton (click)="closeCommunicationError()" class="btn-secondary">OK</button>
  </div>
</kendo-dialog>